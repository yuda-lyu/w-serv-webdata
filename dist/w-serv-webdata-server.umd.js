/*!
 * w-serv-webdata-server v1.0.25
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("path"),require("fs")):"function"==typeof define&&define.amd?define(["path","fs"],e):(t="undefined"!=typeof globalThis?globalThis:t||self)["w-serv-webdata-server"]=e(t.path,t.fs)}(this,(function(t,e){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var n=r(t),o=r(e),i=Array.isArray;function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function c(t){var e={exports:{}};return t(e,e.exports),e.exports}var s="object"==u(a)&&a&&a.Object===Object&&a,f="object"==("undefined"==typeof self?"undefined":u(self))&&self&&self.Object===Object&&self,l=s||f||Function("return this")(),v=l.Symbol,h=Object.prototype,p=h.hasOwnProperty,y=h.toString,d=v?v.toStringTag:void 0;var b=function(t){var e=p.call(t,d),r=t[d];try{t[d]=void 0;var n=!0}catch(t){}var o=y.call(t);return n&&(e?t[d]=r:delete t[d]),o},g=Object.prototype.toString;var m=function(t){return g.call(t)},_=v?v.toStringTag:void 0;var j=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":_&&_ in Object(t)?b(t):m(t)};var w=function(t){return null!=t&&"object"==u(t)};var O=function(t){return"symbol"==u(t)||w(t)&&"[object Symbol]"==j(t)},x=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,S=/^\w*$/;var T=function(t,e){if(i(t))return!1;var r=u(t);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!O(t))||(S.test(t)||!x.test(t)||null!=e&&t in Object(e))};var $=function(t){var e=u(t);return null!=t&&("object"==e||"function"==e)};var L,M=function(t){if(!$(t))return!1;var e=j(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},A=l["__core-js_shared__"],E=(L=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+L:"";var D=function(t){return!!E&&E in t},k=Function.prototype.toString;var P=function(t){if(null!=t){try{return k.call(t)}catch(t){}try{return t+""}catch(t){}}return""},F=/^\[object .+?Constructor\]$/,N=Function.prototype,C=Object.prototype,I=N.toString,R=C.hasOwnProperty,U=RegExp("^"+I.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var z=function(t){return!(!$(t)||D(t))&&(M(t)?U:F).test(P(t))};var W=function(t,e){return null==t?void 0:t[e]};var Y=function(t,e){var r=W(t,e);return z(r)?r:void 0},B=Y(Object,"create");var H=function(){this.__data__=B?B(null):{},this.size=0};var G=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},V=Object.prototype.hasOwnProperty;var J=function(t){var e=this.__data__;if(B){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return V.call(e,t)?e[t]:void 0},q=Object.prototype.hasOwnProperty;var Z=function(t){var e=this.__data__;return B?void 0!==e[t]:q.call(e,t)};var K=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=B&&void 0===e?"__lodash_hash_undefined__":e,this};function Q(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Q.prototype.clear=H,Q.prototype.delete=G,Q.prototype.get=J,Q.prototype.has=Z,Q.prototype.set=K;var X=Q;var tt=function(){this.__data__=[],this.size=0};var et=function(t,e){return t===e||t!=t&&e!=e};var rt=function(t,e){for(var r=t.length;r--;)if(et(t[r][0],e))return r;return-1},nt=Array.prototype.splice;var ot=function(t){var e=this.__data__,r=rt(e,t);return!(r<0)&&(r==e.length-1?e.pop():nt.call(e,r,1),--this.size,!0)};var it=function(t){var e=this.__data__,r=rt(e,t);return r<0?void 0:e[r][1]};var ut=function(t){return rt(this.__data__,t)>-1};var at=function(t,e){var r=this.__data__,n=rt(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function ct(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ct.prototype.clear=tt,ct.prototype.delete=ot,ct.prototype.get=it,ct.prototype.has=ut,ct.prototype.set=at;var st=ct,ft=Y(l,"Map");var lt=function(){this.size=0,this.__data__={hash:new X,map:new(ft||st),string:new X}};var vt=function(t){var e=u(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var ht=function(t,e){var r=t.__data__;return vt(e)?r["string"==typeof e?"string":"hash"]:r.map};var pt=function(t){var e=ht(this,t).delete(t);return this.size-=e?1:0,e};var yt=function(t){return ht(this,t).get(t)};var dt=function(t){return ht(this,t).has(t)};var bt=function(t,e){var r=ht(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function gt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}gt.prototype.clear=lt,gt.prototype.delete=pt,gt.prototype.get=yt,gt.prototype.has=dt,gt.prototype.set=bt;var mt=gt;function _t(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function r(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var u=t.apply(this,n);return r.cache=i.set(o,u)||i,u};return r.cache=new(_t.Cache||mt),r}_t.Cache=mt;var jt=_t;var wt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ot=/\\(\\)?/g,xt=function(t){var e=jt(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(wt,(function(t,r,n,o){e.push(n?o.replace(Ot,"$1"):r||t)})),e}));var St=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o},Tt=v?v.prototype:void 0,$t=Tt?Tt.toString:void 0;var Lt=function t(e){if("string"==typeof e)return e;if(i(e))return St(e,t)+"";if(O(e))return $t?$t.call(e):"";var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r};var Mt=function(t){return null==t?"":Lt(t)};var At=function(t,e){return i(t)?t:T(t,e)?[t]:xt(Mt(t))};var Et=function(t){if("string"==typeof t||O(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e};var Dt=function(t,e){for(var r=0,n=(e=At(e,t)).length;null!=t&&r<n;)t=t[Et(e[r++])];return r&&r==n?t:void 0};var kt=function(t,e,r){var n=null==t?void 0:Dt(t,e);return void 0===n?r:n};function Pt(t){return"[object Object]"===Object.prototype.toString.call(t)}var Ft=function(t){return!0===t||!1===t||w(t)&&"[object Boolean]"==j(t)};function Nt(t){return Ft(t)}var Ct=c((function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}function o(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function i(t,e,n,i,u){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new o(n,i||t,u),c=r?r+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],a]:t._events[c].push(a):(t._events[c]=a,t._eventsCount++),t}function u(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,n,o=[];if(0===this._eventsCount)return o;for(n in t=this._events)e.call(t,n)&&o.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},a.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,i=n.length,u=new Array(i);o<i;o++)u[o]=n[o].fn;return u},a.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,o,i,u){var a=r?r+t:t;if(!this._events[a])return!1;var c,s,f=this._events[a],l=arguments.length;if(f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,e),!0;case 3:return f.fn.call(f.context,e,n),!0;case 4:return f.fn.call(f.context,e,n,o),!0;case 5:return f.fn.call(f.context,e,n,o,i),!0;case 6:return f.fn.call(f.context,e,n,o,i,u),!0}for(s=1,c=new Array(l-1);s<l;s++)c[s-1]=arguments[s];f.fn.apply(f.context,c)}else{var v,h=f.length;for(s=0;s<h;s++)switch(f[s].once&&this.removeListener(t,f[s].fn,void 0,!0),l){case 1:f[s].fn.call(f[s].context);break;case 2:f[s].fn.call(f[s].context,e);break;case 3:f[s].fn.call(f[s].context,e,n);break;case 4:f[s].fn.call(f[s].context,e,n,o);break;default:if(!c)for(v=1,c=new Array(l-1);v<l;v++)c[v-1]=arguments[v];f[s].fn.apply(f[s].context,c)}}return!0},a.prototype.on=function(t,e,r){return i(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return i(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,n,o){var i=r?r+t:t;if(!this._events[i])return this;if(!e)return u(this,i),this;var a=this._events[i];if(a.fn)a.fn!==e||o&&!a.once||n&&a.context!==n||u(this,i);else{for(var c=0,s=[],f=a.length;c<f;c++)(a[c].fn!==e||o&&!a[c].once||n&&a[c].context!==n)&&s.push(a[c]);s.length?this._events[i]=1===s.length?s[0]:s:u(this,i)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&u(this,e)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a}));function It(){return new Ct}var Rt=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t};var Ut=function(t){return function(e,r,n){for(var o=-1,i=Object(e),u=n(e),a=u.length;a--;){var c=u[t?a:++o];if(!1===r(i[c],c,i))break}return e}}();var zt=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n};var Wt=function(t){return w(t)&&"[object Arguments]"==j(t)},Yt=Object.prototype,Bt=Yt.hasOwnProperty,Ht=Yt.propertyIsEnumerable,Gt=Wt(function(){return arguments}())?Wt:function(t){return w(t)&&Bt.call(t,"callee")&&!Ht.call(t,"callee")},Vt=Gt;var Jt=function(){return!1},qt=c((function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r?l.Buffer:void 0,i=(o?o.isBuffer:void 0)||Jt;t.exports=i})),Zt=/^(?:0|[1-9]\d*)$/;var Kt=function(t,e){var r=u(t);return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&Zt.test(t))&&t>-1&&t%1==0&&t<e};var Qt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Xt={};Xt["[object Float32Array]"]=Xt["[object Float64Array]"]=Xt["[object Int8Array]"]=Xt["[object Int16Array]"]=Xt["[object Int32Array]"]=Xt["[object Uint8Array]"]=Xt["[object Uint8ClampedArray]"]=Xt["[object Uint16Array]"]=Xt["[object Uint32Array]"]=!0,Xt["[object Arguments]"]=Xt["[object Array]"]=Xt["[object ArrayBuffer]"]=Xt["[object Boolean]"]=Xt["[object DataView]"]=Xt["[object Date]"]=Xt["[object Error]"]=Xt["[object Function]"]=Xt["[object Map]"]=Xt["[object Number]"]=Xt["[object Object]"]=Xt["[object RegExp]"]=Xt["[object Set]"]=Xt["[object String]"]=Xt["[object WeakMap]"]=!1;var te=function(t){return w(t)&&Qt(t.length)&&!!Xt[j(t)]};var ee=function(t){return function(e){return t(e)}},re=c((function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r&&s.process,i=function(){try{var t=n&&n.require&&n.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=i})),ne=re&&re.isTypedArray,oe=ne?ee(ne):te,ie=Object.prototype.hasOwnProperty;var ue=function(t,e){var r=i(t),n=!r&&Vt(t),o=!r&&!n&&qt(t),u=!r&&!n&&!o&&oe(t),a=r||n||o||u,c=a?zt(t.length,String):[],s=c.length;for(var f in t)!e&&!ie.call(t,f)||a&&("length"==f||o&&("offset"==f||"parent"==f)||u&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||Kt(f,s))||c.push(f);return c},ae=Object.prototype;var ce=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ae)};var se=function(t,e){return function(r){return t(e(r))}},fe=se(Object.keys,Object),le=Object.prototype.hasOwnProperty;var ve=function(t){if(!ce(t))return fe(t);var e=[];for(var r in Object(t))le.call(t,r)&&"constructor"!=r&&e.push(r);return e};var he=function(t){return null!=t&&Qt(t.length)&&!M(t)};var pe=function(t){return he(t)?ue(t):ve(t)};var ye=function(t,e){return function(r,n){if(null==r)return r;if(!he(r))return t(r,n);for(var o=r.length,i=e?o:-1,u=Object(r);(e?i--:++i<o)&&!1!==n(u[i],i,u););return r}}((function(t,e){return t&&Ut(t,e,pe)}));var de=function(t){return t};var be=function(t){return"function"==typeof t?t:de};var ge=function(t,e){return(i(t)?Rt:ye)(t,be(e))},me=Y(l,"DataView"),_e=Y(l,"Promise"),je=Y(l,"Set"),we=Y(l,"WeakMap"),Oe="[object Map]",xe="[object Promise]",Se="[object Set]",Te="[object WeakMap]",$e="[object DataView]",Le=P(me),Me=P(ft),Ae=P(_e),Ee=P(je),De=P(we),ke=j;(me&&ke(new me(new ArrayBuffer(1)))!=$e||ft&&ke(new ft)!=Oe||_e&&ke(_e.resolve())!=xe||je&&ke(new je)!=Se||we&&ke(new we)!=Te)&&(ke=function(t){var e=j(t),r="[object Object]"==e?t.constructor:void 0,n=r?P(r):"";if(n)switch(n){case Le:return $e;case Me:return Oe;case Ae:return xe;case Ee:return Se;case De:return Te}return e});var Pe=ke;var Fe=function(t){return"string"==typeof t||!i(t)&&w(t)&&"[object String]"==j(t)};var Ne=function(t){return function(e){return null==e?void 0:e[t]}}("length"),Ce=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Ie=function(t){return Ce.test(t)},Re="[\\ud800-\\udfff]",Ue="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",ze="\\ud83c[\\udffb-\\udfff]",We="[^\\ud800-\\udfff]",Ye="(?:\\ud83c[\\udde6-\\uddff]){2}",Be="[\\ud800-\\udbff][\\udc00-\\udfff]",He="(?:"+Ue+"|"+ze+")"+"?",Ge="[\\ufe0e\\ufe0f]?",Ve=Ge+He+("(?:\\u200d(?:"+[We,Ye,Be].join("|")+")"+Ge+He+")*"),Je="(?:"+[We+Ue+"?",Ue,Ye,Be,Re].join("|")+")",qe=RegExp(ze+"(?="+ze+")|"+Je+Ve,"g");var Ze=function(t){for(var e=qe.lastIndex=0;qe.test(t);)++e;return e};var Ke=function(t){return Ie(t)?Ze(t):Ne(t)};var Qe=function(t){if(null==t)return 0;if(he(t))return Fe(t)?Ke(t):t.length;var e=Pe(t);return"[object Map]"==e||"[object Set]"==e?t.size:ve(t).length};var Xe=function(){this.__data__=new st,this.size=0};var tr=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};var er=function(t){return this.__data__.get(t)};var rr=function(t){return this.__data__.has(t)};var nr=function(t,e){var r=this.__data__;if(r instanceof st){var n=r.__data__;if(!ft||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new mt(n)}return r.set(t,e),this.size=r.size,this};function or(t){var e=this.__data__=new st(t);this.size=e.size}or.prototype.clear=Xe,or.prototype.delete=tr,or.prototype.get=er,or.prototype.has=rr,or.prototype.set=nr;var ir=or,ur=function(){try{var t=Y(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var ar=function(t,e,r){"__proto__"==e&&ur?ur(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},cr=Object.prototype.hasOwnProperty;var sr=function(t,e,r){var n=t[e];cr.call(t,e)&&et(n,r)&&(void 0!==r||e in t)||ar(t,e,r)};var fr=function(t,e,r,n){var o=!r;r||(r={});for(var i=-1,u=e.length;++i<u;){var a=e[i],c=n?n(r[a],t[a],a,r,t):void 0;void 0===c&&(c=t[a]),o?ar(r,a,c):sr(r,a,c)}return r};var lr=function(t,e){return t&&fr(e,pe(e),t)};var vr=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e},hr=Object.prototype.hasOwnProperty;var pr=function(t){if(!$(t))return vr(t);var e=ce(t),r=[];for(var n in t)("constructor"!=n||!e&&hr.call(t,n))&&r.push(n);return r};var yr=function(t){return he(t)?ue(t,!0):pr(t)};var dr=function(t,e){return t&&fr(e,yr(e),t)},br=c((function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r?l.Buffer:void 0,i=o?o.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=i?i(r):new t.constructor(r);return t.copy(n),n}}));var gr=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e};var mr=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var u=t[r];e(u,r,t)&&(i[o++]=u)}return i};var _r=function(){return[]},jr=Object.prototype.propertyIsEnumerable,wr=Object.getOwnPropertySymbols,Or=wr?function(t){return null==t?[]:(t=Object(t),mr(wr(t),(function(e){return jr.call(t,e)})))}:_r;var xr=function(t,e){return fr(t,Or(t),e)};var Sr=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t},Tr=se(Object.getPrototypeOf,Object),$r=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Sr(e,Or(t)),t=Tr(t);return e}:_r;var Lr=function(t,e){return fr(t,$r(t),e)};var Mr=function(t,e,r){var n=e(t);return i(t)?n:Sr(n,r(t))};var Ar=function(t){return Mr(t,pe,Or)};var Er=function(t){return Mr(t,yr,$r)},Dr=Object.prototype.hasOwnProperty;var kr=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Dr.call(t,"index")&&(r.index=t.index,r.input=t.input),r},Pr=l.Uint8Array;var Fr=function(t){var e=new t.constructor(t.byteLength);return new Pr(e).set(new Pr(t)),e};var Nr=function(t,e){var r=e?Fr(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)},Cr=/\w*$/;var Ir=function(t){var e=new t.constructor(t.source,Cr.exec(t));return e.lastIndex=t.lastIndex,e},Rr=v?v.prototype:void 0,Ur=Rr?Rr.valueOf:void 0;var zr=function(t){return Ur?Object(Ur.call(t)):{}};var Wr=function(t,e){var r=e?Fr(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)};var Yr=function(t,e,r){var n=t.constructor;switch(e){case"[object ArrayBuffer]":return Fr(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return Nr(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Wr(t,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return Ir(t);case"[object Symbol]":return zr(t)}},Br=Object.create,Hr=function(){function t(){}return function(e){if(!$(e))return{};if(Br)return Br(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();var Gr=function(t){return"function"!=typeof t.constructor||ce(t)?{}:Hr(Tr(t))};var Vr=function(t){return w(t)&&"[object Map]"==Pe(t)},Jr=re&&re.isMap,qr=Jr?ee(Jr):Vr;var Zr=function(t){return w(t)&&"[object Set]"==Pe(t)},Kr=re&&re.isSet,Qr=Kr?ee(Kr):Zr,Xr="[object Arguments]",tn="[object Function]",en="[object Object]",rn={};rn[Xr]=rn["[object Array]"]=rn["[object ArrayBuffer]"]=rn["[object DataView]"]=rn["[object Boolean]"]=rn["[object Date]"]=rn["[object Float32Array]"]=rn["[object Float64Array]"]=rn["[object Int8Array]"]=rn["[object Int16Array]"]=rn["[object Int32Array]"]=rn["[object Map]"]=rn["[object Number]"]=rn[en]=rn["[object RegExp]"]=rn["[object Set]"]=rn["[object String]"]=rn["[object Symbol]"]=rn["[object Uint8Array]"]=rn["[object Uint8ClampedArray]"]=rn["[object Uint16Array]"]=rn["[object Uint32Array]"]=!0,rn["[object Error]"]=rn[tn]=rn["[object WeakMap]"]=!1;var nn=function t(e,r,n,o,u,a){var c,s=1&r,f=2&r,l=4&r;if(n&&(c=u?n(e,o,u,a):n(e)),void 0!==c)return c;if(!$(e))return e;var v=i(e);if(v){if(c=kr(e),!s)return gr(e,c)}else{var h=Pe(e),p=h==tn||"[object GeneratorFunction]"==h;if(qt(e))return br(e,s);if(h==en||h==Xr||p&&!u){if(c=f||p?{}:Gr(e),!s)return f?Lr(e,dr(c,e)):xr(e,lr(c,e))}else{if(!rn[h])return u?e:{};c=Yr(e,h,s)}}a||(a=new ir);var y=a.get(e);if(y)return y;a.set(e,c),Qr(e)?e.forEach((function(o){c.add(t(o,r,n,o,e,a))})):qr(e)&&e.forEach((function(o,i){c.set(i,t(o,r,n,i,e,a))}));var d=v?void 0:(l?f?Er:Ar:f?yr:pe)(e);return Rt(d||e,(function(o,i){d&&(o=e[i=o]),sr(c,i,t(o,r,n,i,e,a))})),c};var on=function(t){return nn(t,5)};function un(t){return"[object Array]"===Object.prototype.toString.call(t)}function an(t){return"[object String]"===Object.prototype.toString.call(t)}function cn(t){return!(!an(t)||""===t)}var sn=/\s/;var fn=function(t){for(var e=t.length;e--&&sn.test(t.charAt(e)););return e},ln=/^\s+/;var vn=function(t){return t?t.slice(0,fn(t)+1).replace(ln,""):t},hn=/^[-+]0x[0-9a-f]+$/i,pn=/^0b[01]+$/i,yn=/^0o[0-7]+$/i,dn=parseInt;var bn=function(t){if("number"==typeof t)return t;if(O(t))return NaN;if($(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=$(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=vn(t);var r=pn.test(t);return r||yn.test(t)?dn(t.slice(2),r?2:8):hn.test(t)?NaN:+t},gn=1/0;var mn=function(t){return t?(t=bn(t))===gn||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0};var _n=function(t){var e=mn(t),r=e%1;return e==e?r?e-r:e:0};var jn=function(t){return"number"==typeof t&&t==_n(t)};function wn(t){var e=!1;return cn(t)?e=!isNaN(Number(t)):function(t){return"[object Number]"===Object.prototype.toString.call(t)}(t)&&(e=!0),e}function On(t){return wn(t)?mn(t):0}var xn=l.isFinite,Sn=Math.min;var Tn=function(t){var e=Math[t];return function(t,r){if(t=bn(t),(r=null==r?0:Sn(_n(r),292))&&xn(t)){var n=(Mt(t)+"e").split("e"),o=e(n[0]+"e"+(+n[1]+r));return+((n=(Mt(o)+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}("round");function $n(t){if(!wn(t))return 0;t=On(t);var e=Tn(t);return"0"===String(e)?0:e}function Ln(t){return!!function(t){return!!wn(t)&&(t=On(t),jn(t))}(t)&&$n(t)>0}var Mn="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),An=Mn.length;function En(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,e=[];t=Ln(t)?$n(t):32;for(var r=0;r<t;r++)e[r]=Mn[0|Math.random()*An];var n=e.join("");return n}var Dn,kn="object"===("undefined"==typeof Reflect?"undefined":u(Reflect))?Reflect:null,Pn=kn&&"function"==typeof kn.apply?kn.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};Dn=kn&&"function"==typeof kn.ownKeys?kn.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var Fn=Number.isNaN||function(t){return t!=t};function Nn(){Nn.init.call(this)}var Cn=Nn,In=function(t,e){return new Promise((function(r,n){function o(r){t.removeListener(e,i),n(r)}function i(){"function"==typeof t.removeListener&&t.removeListener("error",o),r([].slice.call(arguments))}Jn(t,e,i,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&Jn(t,"error",e,r)}(t,o,{once:!0})}))};Nn.EventEmitter=Nn,Nn.prototype._events=void 0,Nn.prototype._eventsCount=0,Nn.prototype._maxListeners=void 0;var Rn=10;function Un(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+u(t))}function zn(t){return void 0===t._maxListeners?Nn.defaultMaxListeners:t._maxListeners}function Wn(t,e,r,n){var o,i,u,a;if(Un(r),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events),u=i[e]),void 0===u)u=i[e]=r,++t._eventsCount;else if("function"==typeof u?u=i[e]=n?[r,u]:[u,r]:n?u.unshift(r):u.push(r),(o=zn(t))>0&&u.length>o&&!u.warned){u.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=u.length,a=c,console&&console.warn&&console.warn(a)}return t}function Yn(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Bn(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},o=Yn.bind(n);return o.listener=r,n.wrapFn=o,o}function Hn(t,e,r){var n=t._events;if(void 0===n)return[];var o=n[e];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(o):Vn(o,o.length)}function Gn(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function Vn(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function Jn(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+u(t));t.addEventListener(e,(function o(i){n.once&&t.removeEventListener(e,o),r(i)}))}}Object.defineProperty(Nn,"defaultMaxListeners",{enumerable:!0,get:function(){return Rn},set:function(t){if("number"!=typeof t||t<0||Fn(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Rn=t}}),Nn.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Nn.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||Fn(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},Nn.prototype.getMaxListeners=function(){return zn(this)},Nn.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var i;if(e.length>0&&(i=e[0]),i instanceof Error)throw i;var u=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw u.context=i,u}var a=o[t];if(void 0===a)return!1;if("function"==typeof a)Pn(a,this,e);else{var c=a.length,s=Vn(a,c);for(r=0;r<c;++r)Pn(s[r],this,e)}return!0},Nn.prototype.addListener=function(t,e){return Wn(this,t,e,!1)},Nn.prototype.on=Nn.prototype.addListener,Nn.prototype.prependListener=function(t,e){return Wn(this,t,e,!0)},Nn.prototype.once=function(t,e){return Un(e),this.on(t,Bn(this,t,e)),this},Nn.prototype.prependOnceListener=function(t,e){return Un(e),this.prependListener(t,Bn(this,t,e)),this},Nn.prototype.removeListener=function(t,e){var r,n,o,i,u;if(Un(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===e||r[i].listener===e){u=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,o),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,u||e)}return this},Nn.prototype.off=Nn.prototype.removeListener,Nn.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},Nn.prototype.listeners=function(t){return Hn(this,t,!0)},Nn.prototype.rawListeners=function(t){return Hn(this,t,!1)},Nn.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):Gn.call(t,e)},Nn.prototype.listenerCount=Gn,Nn.prototype.eventNames=function(){return this._eventsCount>0?Dn(this._events):[]},Cn.once=In;var qn=function(){return l.Date.now()},Zn=Math.max,Kn=Math.min;var Qn=function(t,e,r){var n,o,i,u,a,c,s=0,f=!1,l=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function h(e){var r=n,i=o;return n=o=void 0,s=e,u=t.apply(i,r)}function p(t){return s=t,a=setTimeout(d,e),f?h(t):u}function y(t){var r=t-c;return void 0===c||r>=e||r<0||l&&t-s>=i}function d(){var t=qn();if(y(t))return b(t);a=setTimeout(d,function(t){var r=e-(t-c);return l?Kn(r,i-(t-s)):r}(t))}function b(t){return a=void 0,v&&n?h(t):(n=o=void 0,u)}function g(){var t=qn(),r=y(t);if(n=arguments,o=this,c=t,r){if(void 0===a)return p(c);if(l)return clearTimeout(a),a=setTimeout(d,e),h(c)}return void 0===a&&(a=setTimeout(d,e)),u}return e=bn(e)||0,$(r)&&(f=!!r.leading,i=(l="maxWait"in r)?Zn(bn(r.maxWait)||0,e):i,v="trailing"in r?!!r.trailing:v),g.cancel=function(){void 0!==a&&clearTimeout(a),s=0,n=c=o=a=void 0},g.flush=function(){return void 0===a?u:b(qn())},g};var Xn=function(t,e,r){(void 0!==r&&!et(t[e],r)||void 0===r&&!(e in t))&&ar(t,e,r)};var to=function(t){return w(t)&&he(t)},eo=Function.prototype,ro=Object.prototype,no=eo.toString,oo=ro.hasOwnProperty,io=no.call(Object);var uo=function(t){if(!w(t)||"[object Object]"!=j(t))return!1;var e=Tr(t);if(null===e)return!0;var r=oo.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&no.call(r)==io};var ao=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]};var co=function(t){return fr(t,yr(t))};var so=function(t,e,r,n,o,u,a){var c=ao(t,r),s=ao(e,r),f=a.get(s);if(f)Xn(t,r,f);else{var l=u?u(c,s,r+"",t,e,a):void 0,v=void 0===l;if(v){var h=i(s),p=!h&&qt(s),y=!h&&!p&&oe(s);l=s,h||p||y?i(c)?l=c:to(c)?l=gr(c):p?(v=!1,l=br(s,!0)):y?(v=!1,l=Wr(s,!0)):l=[]:uo(s)||Vt(s)?(l=c,Vt(c)?l=co(c):$(c)&&!M(c)||(l=Gr(s))):v=!1}v&&(a.set(s,l),o(l,s,n,u,a),a.delete(s)),Xn(t,r,l)}};var fo=function t(e,r,n,o,i){e!==r&&Ut(r,(function(u,a){if(i||(i=new ir),$(u))so(e,r,a,n,t,o,i);else{var c=o?o(ao(e,a),u,a+"",e,r,i):void 0;void 0===c&&(c=u),Xn(e,a,c)}}),yr)};var lo=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)},vo=Math.max;var ho=function(t,e,r){return e=vo(void 0===e?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=vo(n.length-e,0),u=Array(i);++o<i;)u[o]=n[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=n[o];return a[e]=r(u),lo(t,this,a)}};var po=function(t){return function(){return t}},yo=ur?function(t,e){return ur(t,"toString",{configurable:!0,enumerable:!1,value:po(e),writable:!0})}:de,bo=Date.now;var go=function(t){var e=0,r=0;return function(){var n=bo(),o=16-(n-r);if(r=n,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},mo=go(yo);var _o=function(t,e){return mo(ho(t,e,de),t+"")};var jo=function(t,e,r){if(!$(r))return!1;var n=u(e);return!!("number"==n?he(r)&&Kt(e,r.length):"string"==n&&e in r)&&et(r[e],t)};var wo=function(t){return _o((function(e,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,u=o>2?r[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,u&&jo(r[0],r[1],u)&&(i=o<3?void 0:i,o=1),e=Object(e);++n<o;){var a=r[n];a&&t(e,a,n,i)}return e}))}((function(t,e,r){fo(t,e,r)})),Oo=c((function(t,e){t.exports=function(){var t=1e3,e=6e4,r=36e5,n="millisecond",o="second",i="minute",a="hour",c="day",s="week",f="month",l="quarter",v="year",h="date",p="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},g=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},m={s:g,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),o=r%60;return(e<=0?"+":"-")+g(n,2,"0")+":"+g(o,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var n=12*(r.year()-e.year())+(r.month()-e.month()),o=e.clone().add(n,f),i=r-o<0,u=e.clone().add(n+(i?-1:1),f);return+(-(n+(r-o)/(i?o-u:u-o))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:f,y:v,w:s,d:c,D:h,h:a,m:i,s:o,ms:n,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},_="en",j={};j[_]=b;var w=function(t){return t instanceof T},O=function t(e,r,n){var o;if(!e)return _;if("string"==typeof e){var i=e.toLowerCase();j[i]&&(o=i),r&&(j[i]=r,o=i);var u=e.split("-");if(!o&&u.length>1)return t(u[0])}else{var a=e.name;j[a]=e,o=a}return!n&&o&&(_=o),o||!n&&_},x=function(t,e){if(w(t))return t.clone();var r="object"==u(e)?e:{};return r.date=t,r.args=arguments,new T(r)},S=m;S.l=O,S.i=w,S.w=function(t,e){return x(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var T=function(){function u(t){this.$L=O(t.locale,null,!0),this.parse(t)}var b=u.prototype;return b.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(S.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(y);if(n){var o=n[2]-1||0,i=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},b.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},b.$utils=function(){return S},b.isValid=function(){return!(this.$d.toString()===p)},b.isSame=function(t,e){var r=x(t);return this.startOf(e)<=r&&r<=this.endOf(e)},b.isAfter=function(t,e){return x(t)<this.startOf(e)},b.isBefore=function(t,e){return this.endOf(e)<x(t)},b.$g=function(t,e,r){return S.u(t)?this[e]:this.set(r,t)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(t,e){var r=this,n=!!S.u(e)||e,u=S.p(t),l=function(t,e){var o=S.w(r.$u?Date.UTC(r.$y,e,t):new Date(r.$y,e,t),r);return n?o:o.endOf(c)},p=function(t,e){return S.w(r.toDate()[t].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(e)),r)},y=this.$W,d=this.$M,b=this.$D,g="set"+(this.$u?"UTC":"");switch(u){case v:return n?l(1,0):l(31,11);case f:return n?l(1,d):l(0,d+1);case s:var m=this.$locale().weekStart||0,_=(y<m?y+7:y)-m;return l(n?b-_:b+(6-_),d);case c:case h:return p(g+"Hours",0);case a:return p(g+"Minutes",1);case i:return p(g+"Seconds",2);case o:return p(g+"Milliseconds",3);default:return this.clone()}},b.endOf=function(t){return this.startOf(t,!1)},b.$set=function(t,e){var r,u=S.p(t),s="set"+(this.$u?"UTC":""),l=(r={},r[c]=s+"Date",r[h]=s+"Date",r[f]=s+"Month",r[v]=s+"FullYear",r[a]=s+"Hours",r[i]=s+"Minutes",r[o]=s+"Seconds",r[n]=s+"Milliseconds",r)[u],p=u===c?this.$D+(e-this.$W):e;if(u===f||u===v){var y=this.clone().set(h,1);y.$d[l](p),y.init(),this.$d=y.set(h,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l](p);return this.init(),this},b.set=function(t,e){return this.clone().$set(t,e)},b.get=function(t){return this[S.p(t)]()},b.add=function(n,u){var l,h=this;n=Number(n);var p=S.p(u),y=function(t){var e=x(h);return S.w(e.date(e.date()+Math.round(t*n)),h)};if(p===f)return this.set(f,this.$M+n);if(p===v)return this.set(v,this.$y+n);if(p===c)return y(1);if(p===s)return y(7);var d=(l={},l[i]=e,l[a]=r,l[o]=t,l)[p]||1,b=this.$d.getTime()+n*d;return S.w(b,this)},b.subtract=function(t,e){return this.add(-1*t,e)},b.format=function(t){var e=this,r=this.$locale();if(!this.isValid())return r.invalidDate||p;var n=t||"YYYY-MM-DDTHH:mm:ssZ",o=S.z(this),i=this.$H,u=this.$m,a=this.$M,c=r.weekdays,s=r.months,f=function(t,r,o,i){return t&&(t[r]||t(e,n))||o[r].substr(0,i)},l=function(t){return S.s(i%12||12,t,"0")},v=r.meridiem||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:S.s(a+1,2,"0"),MMM:f(r.monthsShort,a,s,3),MMMM:f(s,a),D:this.$D,DD:S.s(this.$D,2,"0"),d:String(this.$W),dd:f(r.weekdaysMin,this.$W,c,2),ddd:f(r.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(i),HH:S.s(i,2,"0"),h:l(1),hh:l(2),a:v(i,u,!0),A:v(i,u,!1),m:String(u),mm:S.s(u,2,"0"),s:String(this.$s),ss:S.s(this.$s,2,"0"),SSS:S.s(this.$ms,3,"0"),Z:o};return n.replace(d,(function(t,e){return e||h[t]||o.replace(":","")}))},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(n,u,h){var p,y=S.p(u),d=x(n),b=(d.utcOffset()-this.utcOffset())*e,g=this-d,m=S.m(this,d);return m=(p={},p[v]=m/12,p[f]=m,p[l]=m/3,p[s]=(g-b)/6048e5,p[c]=(g-b)/864e5,p[a]=g/r,p[i]=g/e,p[o]=g/t,p)[y]||g,h?m:S.a(m)},b.daysInMonth=function(){return this.endOf(f).$D},b.$locale=function(){return j[this.$L]},b.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),n=O(t,e,!0);return n&&(r.$L=n),r},b.clone=function(){return S.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},u}(),$=T.prototype;return x.prototype=$,[["$ms",n],["$s",o],["$m",i],["$H",a],["$W",c],["$M",f],["$y",v],["$D",h]].forEach((function(t){$[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),x.extend=function(t,e){return t.$i||(t(e,T,x),t.$i=!0),x},x.locale=O,x.isDayjs=w,x.unix=function(t){return x(1e3*t)},x.en=j[_],x.Ls=j,x.p={},x}()}));function xo(){return Oo().format("YYYY-MM-DDTHH:mm:ssZ")}function So(t){if(Pt(t)){for(var e in t)return!0;return!1}return!1}function To(t){if(!cn(t))return{};var e={};try{e=JSON.parse(t)}catch(t){e={}}return e}function $o(t){return"[object Undefined]"===Object.prototype.toString.call(t)}function Lo(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if($o(t))return"";var r="";try{r=e?JSON.stringify(t,null,2):JSON.stringify(t)}catch(t){r=""}return r}var Mo=n.default.resolve();function Ao(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={};t.fnTableTags||(t.fnTableTags="tableTags.json");var r="".concat(Mo,"/").concat(t.fnTableTags),n=new Cn.EventEmitter;function i(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];setTimeout((function(){n.emit.apply(n,[t].concat(r))}),1)}function u(){var t={};try{if(o.default.existsSync(r)){var e=To(o.default.readFileSync(r,"utf8"));So(e)&&(t=e)}}catch(t){i("error",{msg:"readTableTags catch",err:t})}return t}function a(){try{var t=Lo(e);o.default.writeFileSync(r,t,"utf8")}catch(t){i("error",{msg:"writeTableTags catch",err:t})}}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"useInputFirst";e="useStorageFirst"===r?wo(t,u()):"useInputOnly"===r?t:"useStorageOnly"===r?u():wo(u(),t),a()}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=wo(e,t),a()}function f(){return e}var l=Qn((function(){a(),i("changeTableTags",e)}),200);function v(t){e[t]=xo()+"|"+En(6),l()}return n.readTableTags=u,n.writeTableTags=a,n.initTableTags=c,n.setTableTags=s,n.getTableTags=f,n.updateTableTag=v,n}function Eo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=It(),r=kt(t,"instWConverServer",null);if(null===r)return e.emit("error","invalid opt.instWConverServer"),e;var n=kt(t,"dbORMs",null);if(!Pt(n))return e.emit("error","invalid opt.dbORMs"),e;var o=kt(t,"tableNames",null);if(!un(o))return e.emit("error","invalid opt.tableNames"),e;0===Qe(o)&&console.log("opt.tableNames.lenght = 0");var i=kt(t,"fnTableTags",null);cn(i)||(i="tableTags.json");var u=new Ao({fnTableTags:i});o=on(o);var a={};function c(t){var e={};return ge(o,(function(r){var n=r,o=t[r];e[n]=o})),e}return ge(o,(function(t){a[t]=En(6)})),u.initTableTags(a,"useInputOnly"),ge(o,(function(t){var e=n[t];if(!e)throw new Error("invalid dbORMs.".concat(t));e.on("change",(function(){u.updateTableTag(t)}))})),r.on("clientEnter",(function(t,e){r.deliver(t,{mode:"syncTable",data:u.readTableTags()})})),u.on("changeTableTags",(function(t){r.broadcast({mode:"syncTable",data:c(t)})})),u}function Do(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ko(t){return function(t){if(Array.isArray(t))return Do(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Do(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Do(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Po(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fo(t,e,r,n,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,o)}function No(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function u(t){Fo(i,n,o,u,a,"next",t)}function a(t){Fo(i,n,o,u,a,"throw",t)}u(void 0)}))}}var Co=c((function(t){var e=function(t){var e,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof b?e:b,i=Object.create(o.prototype),u=new M(n||[]);return i._invoke=function(t,e,r){var n=v;return function(o,i){if(n===p)throw new Error("Generator is already running");if(n===y){if("throw"===o)throw i;return E()}for(r.method=o,r.arg=i;;){var u=r.delegate;if(u){var a=T(u,r);if(a){if(a===d)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===v)throw n=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var c=l(t,e,r);if("normal"===c.type){if(n=r.done?y:h,c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=y,r.method="throw",r.arg=c.arg)}}}(t,r,u),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var v="suspendedStart",h="suspendedYield",p="executing",y="completed",d={};function b(){}function g(){}function m(){}var _={};s(_,i,(function(){return this}));var j=Object.getPrototypeOf,w=j&&j(j(A([])));w&&w!==r&&n.call(w,i)&&(_=w);var O=m.prototype=b.prototype=Object.create(_);function x(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(o,i,a,c){var s=l(t[o],t,i);if("throw"!==s.type){var f=s.arg,v=f.value;return v&&"object"===u(v)&&n.call(v,"__await")?e.resolve(v.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(v).then((function(t){f.value=t,a(f)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function T(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method))return d;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=l(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function $(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach($,this),this.reset(!0)}function A(t){if(t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,u=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return u.next=u}}return{next:E}}function E(){return{value:e,done:!0}}return g.prototype=m,s(O,"constructor",m),s(m,"constructor",g),g.displayName=s(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s(t,c,"GeneratorFunction")),t.prototype=Object.create(O),t},t.awrap=function(t){return{__await:t}},x(S.prototype),s(S.prototype,a,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var u=new S(f(e,r,n,o),i);return t.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},x(O),s(O,c,"Generator"),s(O,i,(function(){return this})),s(O,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=A,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return a.type="throw",a.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var u=this.tryEntries[i],a=u.completion;if("root"===u.tryLoc)return o("end");if(u.tryLoc<=this.prev){var c=n.call(u,"catchLoc"),s=n.call(u,"finallyLoc");if(c&&s){if(this.prev<u.catchLoc)return o(u.catchLoc,!0);if(this.prev<u.finallyLoc)return o(u.finallyLoc)}else if(c){if(this.prev<u.catchLoc)return o(u.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return o(u.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"===("undefined"==typeof globalThis?"undefined":u(globalThis))?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})),Io=Co;function Ro(t){return!!$o(t)||(!!function(t){return"[object Null]"===Object.prototype.toString.call(t)}(t)||(!!function(t){if(Pt(t)){for(var e in t)return!1;return!0}return!1}(t)||(!!function(t){return!(!an(t)||""!==t)}(t)||!!function(t){return!!un(t)&&0===t.length}(t))))}function Uo(t){return!!un(t)&&(0!==t.length&&(1!==t.length||!Ro(t[0])))}function zo(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e||"[object AsyncFunction]"===e}function Wo(t){var e,r=Object.prototype.toString.call(t);if(e="[object Promise]"===r)return!0;if("[object Function]"!==r)return!1;try{e="function"!=typeof t.subscribe&&"function"==typeof t.then}catch(t){}return e}function Yo(t,e){return!!Pt(t)&&(!(!cn(e)&&!wn(e))&&e in t)}function Bo(t){if(!cn(t)&&!wn(t)&&!O(t))return"";var e="";try{e=String(t)}catch(t){}try{e=t.toString()}catch(t){}return e}function Ho(){var t,e,r=new Promise((function(){t=arguments[0],e=arguments[1]}));return r.resolve=t,r.reject=e,r}function Go(t){return function(){var e=Ho(),r=null,n=null;try{r=t.apply(this,arguments)}catch(t){n=t}return null!==n?e.resolve({state:"error",msg:n}):Wo(r)?r.then((function(t){e.resolve({state:"success",msg:t})})).catch((function(t){"cancelled"===kt(t,"reason")?e.resolve({state:"cancelled",msg:""}):e.resolve({state:"error",msg:t})})):e.resolve({state:"success",msg:r}),e}}function Vo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Jo(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Vo(Object(r),!0).forEach((function(e){Po(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vo(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var qo={},Zo=null;function Ko(t,e,r){var n={};return ge(t,(function(t){ge(e,(function(e){var o="".concat(t,".").concat(e);n[o]=function(){var n=No(Io.mark((function n(o,i){var u;return Io.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r(o,t,e,i);case 2:return u=n.sent,n.abrupt("return",u);case 4:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}()}))})),n}function Qo(t){return Xo.apply(this,arguments)}function Xo(){return(Xo=No(Io.mark((function t(e){var r,n,o,i,u,a,c,s,f;return Io.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.func,n=e.input,o=e.pm,i="",Yo(n,"__sysToken__")){t.next=5;break}return o.resolve({state:"error",msg:"invalid token"}),t.abrupt("return",o);case 5:if(i=Bo(n.__sysToken__),Yo(n,"__sysInputArgs__")){t.next=9;break}return o.resolve({state:"error",msg:"invalid input"}),t.abrupt("return",o);case 9:if(n=n.__sysInputArgs__,u="",!Wo(a=Zo(i))){t.next=18;break}return t.next=15,a;case 15:u=t.sent,t.next=19;break;case 18:u=a;case 19:if(cn(u)||(u=""),"getFuncList"!==r){t.next=24;break}return c={state:"success",msg:pe(qo)},o.resolve(c),t.abrupt("return",o);case 24:if(Yo(qo,r)){t.next=27;break}return o.resolve({state:"error",msg:"invalid func[".concat(r,"]")}),t.abrupt("return",o);case 27:return s=qo[r],t.prev=28,t.next=31,Go(s).apply(void 0,[u].concat(ko(n)));case 31:f=t.sent,o.resolve(f),t.next=38;break;case 35:t.prev=35,t.t0=t.catch(28),o.resolve({state:"error",msg:"func: ".concat(r)});case 38:return t.abrupt("return",o);case 39:case"end":return t.stop()}}),t,null,[[28,35]])})))).apply(this,arguments)}function ti(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=It(),r=kt(t,"instWConverServer",null);if(null===r)return e.emit("error","invalid opt.instWConverServer"),e;zo(Zo=kt(t,"cbGetUserIDFromToken",null))||(Zo=function(){var t=No(Io.mark((function t(){return Io.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}());var n=kt(t,"useDbORM",null);Nt(n)||(n=!0);var o=null;if(n&&!zo(o=kt(t,"operORM",null)))return e.emit("error","invalid opt.operORM when useDbORM=true"),e;var i=[];if(n&&!un(i=kt(t,"tableNames",null)))return e.emit("error","invalid opt.tableNames when useDbORM=true"),e;var u=[];n&&(un(u=kt(t,"methods",null))||(u=["select","insert","save","del"]));var a=kt(t,"extFuncs",null),c=kt(t,"hookBefores",null),s=kt(t,"hookAfters",null),f={};return n&&(i=on(i),f=Ko(i,u,o)),Pt(a)&&ge(a,(function(t,e){f[e]=t})),qo=f,r.on("execute",function(){var t=No(Io.mark((function t(r,n,o){var i,u,a;return Io.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i={func:r,input:n,pm:o},zo(c))try{c(i)}catch(t){e.emit("error",t)}else Uo(c)&&ge(c,(function(t){if(zo(t))try{t(i)}catch(t){e.emit("error",t)}}));return t.next=4,Qo(i).catch((function(t){e.emit("error",t)}));case 4:if(u=t.sent,a=Jo(Jo({},i),{},{output:u}),zo(s))try{s(a)}catch(t){e.emit("error",t)}else Uo(s)&&ge(s,(function(t){if(zo(t))try{t(a)}catch(t){e.emit("error",t)}}));case 7:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()),e}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=It(),r=kt(t,"instWConverServer",null);if(null===r)return e.emit("error","invalid opt.instWConverServer"),e;var n=kt(t,"useDbORM",null);Nt(n)||(n=!0);var o=kt(t,"dbORMs",null),i=kt(t,"operORM",null),u=kt(t,"tableNamesExec",null),a=kt(t,"methodsExec",null),c=kt(t,"tableNamesSync",null),s=kt(t,"cbGetUserIDFromToken",null),f=kt(t,"extFuncs",null),l=kt(t,"hookBefores",null),v=kt(t,"hookAfters",null),h=kt(t,"fnTableTags",null),p=ti({instWConverServer:r,cbGetUserIDFromToken:s,useDbORM:n,operORM:i,tableNames:u,methods:a,extFuncs:f,hookBefores:l,hookAfters:v});if(p.on("error",(function(t){e.emit("error",t)})),n){if(!Pt(o))return e.emit("error","invalid opt.dbORMs when useDbORM=true"),e;var y=Eo({instWConverServer:r,dbORMs:o,tableNames:c,fnTableTags:h});y.on("error",(function(t){e.emit("error",t)}))}return e}}));
//# sourceMappingURL=w-serv-webdata-server.umd.js.map
